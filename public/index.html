<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"
    />
    <link rel="icon" href="<%= BASE_URL %>favicon.png" />
    <title>Pixiviz</title>
    <meta
      id="meta-desc"
      name="description"
      itemprop="description"
      content="跨次元链接~，一个简单的二次元图片分享站"
    />
    <meta name="keywords" content="ACG,插图排行,插画排行,二次元插画,动漫图片,动漫插图,动漫插画" />
    <meta id="meta-name" itemprop="name" content="Pixiviz" />
    <meta id="meta-image" itemprop="image" content="<%= BASE_URL %>favicon.png" />
    <meta id="og-title" property="og:title" content="Pixiviz" />
    <meta
      id="og-desc"
      property="og:description"
      content="跨次元链接~，一个简单的二次元图片分享站"
    />
    <meta id="og-image" property="og:image" content="<%= BASE_URL %>favicon.png" />
    <meta id="og-url" property="og:url" content="<%= __ROOT_URL__ %>" />
    <meta property="Entertainment" content="article" />
    <meta http-equiv="x-dns-prefetch-control" content="on" />
    <link rel="preconnect" href="https://gfonts.pwp.link" crossorigin />
    <link rel="preconnect" href="https://pixiv-image.pwp.link" crossorigin />
    <link rel="preconnect" href="https://pixiv-image-jp.pwp.link" crossorigin />
    <link rel="preconnect" href="https://pixiv-image-tc.pwp.link" crossorigin />
    <link rel="preconnect" href="https://pixiviz-api-tc.pwp.link" crossorigin />
    <link rel="preconnect" href="https://pixiviz-api-rn.pwp.link" crossorigin />
    <script src="<%= BASE_URL %>js/gif.js" async defer></script>
    <script type="text/javascript">
      if (navigator.userAgent.indexOf('Trident') !== -1) {
        alert('很抱歉，站点不支持 Internet Explorer，请使用其他浏览器访问本站。');
      }
    </script>
    <script>
      // dark mode enhancement
      (() => {
        if (!window.pixiviz) {
          window.pixiviz = {};
        }
        const darkEnabled = window.localStorage.getItem('enable-dark');
        const darkPersist = window.localStorage.getItem('dark-persist');
        window.pixiviz.darkEnabled = darkEnabled === 'true';
        window.pixiviz.darkPersist = darkPersist === 'true';
        if (!window.pixiviz.darkEnabled) {
          return;
        }
        const hour = new Date().getHours();
        if (window.pixiviz.darkPersist || hour < 6 || hour >= 18) {
          document.documentElement.classList.add('dark');
          window.pixiviz.darkMode = true;
          const meta = document.querySelector('meta[name="theme-color"]');
          if (meta) {
            meta.setAttribute('content', '#161616');
          }
        }
      })();
    </script>
  </head>
  <body>
    <noscript>
      <strong>很抱歉，站点需要在您浏览器启用 JavaScript 支持的情况下才能正常使用。</strong>
    </noscript>
    <div id="app">
      <div class="loading">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
          <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2">
            <path
              stroke-dasharray="60"
              stroke-dashoffset="60"
              stroke-opacity=".3"
              d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"
            >
              <animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0" />
            </path>
            <path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12">
              <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0" />
              <animateTransform
                attributeName="transform"
                dur="1.5s"
                repeatCount="indefinite"
                type="rotate"
                values="0 12 12;360 12 12"
              />
            </path>
          </g>
        </svg>
        <span>请稍候，Pixiviz 正在加载中...</span>
      </div>
      <style>
        .dark {
          background: #161616;
        }
        .dark > body > #app {
          background: #161616;
        }

        #app {
          width: 100%;
          height: 100vh;
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
        }

        .loading {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;

          svg {
            font-size: 40px;
            color: #da7a85;
            margin-bottom: 12px;
          }
          span {
            font-size: 16px;
            color: #da7a85;
          }
        }
      </style>
    </div>
    <script
      defer
      src="https://analytics.alkinum.io/script.js"
      data-website-id="5a4dfbba-0d4b-45af-afca-e962bd47f76b"
    ></script>
    <!-- built files will be auto injected -->
  </body>
</html>
